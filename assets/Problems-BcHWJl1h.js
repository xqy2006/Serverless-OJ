import{_ as j,e as i,f as F,k as L,c as T,a as t,w as n,r as o,o as $,b as m,d as b,t as y,u as q}from"./index-DTXGxQYd.js";import{a as h}from"./axios-DXsv3KKR.js";const E={class:"problems"},M={class:"header"},Q={class:"filters"},A={class:"pagination"},G={__name:"Problems",setup(H){q();const c=i(""),d=i(""),u=i(1),_=i(10),v=i(0),g=i([]),w=async()=>{try{const e=(await h.get("/problems/list.txt")).data.split(`
`).filter(s=>s.trim()),r=await Promise.all(e.map(async s=>(await h.get(`/problems/${s}/problem.json`)).data));g.value=r.sort((s,p)=>p.id-s.id),v.value=r.length}catch(l){console.error("Failed to load problems:",l)}};F(()=>{w()});const C=L(()=>{let l=g.value;if(c.value){const e=c.value.toLowerCase();l=l.filter(r=>r.title.toLowerCase().includes(e)||r.id.toString().includes(e))}return d.value&&(l=l.filter(e=>e.difficulty===d.value)),l}),x=l=>({easy:"success",medium:"warning",hard:"danger"})[l],V=()=>{u.value=1},z=()=>{u.value=1},S=l=>{_.value=l},P=l=>{u.value=l};return(l,e)=>{const r=o("el-input"),s=o("el-option"),p=o("el-select"),f=o("el-table-column"),k=o("router-link"),D=o("el-tag"),N=o("el-table"),U=o("el-pagination"),B=o("el-card"),I=o("el-col"),R=o("el-row");return $(),T("div",E,[t(R,{justify:"center"},{default:n(()=>[t(I,{xs:24,sm:22,md:20},{default:n(()=>[t(B,{class:"problem-card"},{header:n(()=>[m("div",M,[e[4]||(e[4]=m("h2",null,"题目列表",-1)),m("div",Q,[t(r,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=a=>c.value=a),placeholder:"搜索题目或ID","prefix-icon":"Search",onInput:V,class:"filter-item"},null,8,["modelValue"]),t(p,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=a=>d.value=a),placeholder:"难度",onChange:z,class:"filter-item"},{default:n(()=>[t(s,{label:"全部",value:""}),t(s,{label:"简单",value:"easy"}),t(s,{label:"中等",value:"medium"}),t(s,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])])])]),default:n(()=>[t(N,{data:C.value,style:{width:"100%"},class:"responsive-table"},{default:n(()=>[t(f,{prop:"id",label:"编号",width:"80",sortable:"desc"}),t(f,{prop:"title",label:"标题","min-width":"120"},{default:n(a=>[t(k,{to:`/submit/${a.row.id}`},{default:n(()=>[b(y(a.row.title),1)]),_:2},1032,["to"])]),_:1}),t(f,{prop:"difficulty",label:"难度",width:"100"},{default:n(a=>[t(D,{type:x(a.row.difficulty)},{default:n(()=>[b(y(a.row.difficulty),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"]),m("div",A,[t(U,{"current-page":u.value,"onUpdate:currentPage":e[2]||(e[2]=a=>u.value=a),"page-size":_.value,"onUpdate:pageSize":e[3]||(e[3]=a=>_.value=a),total:v.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:S,onCurrentChange:P,class:"responsive-pagination"},null,8,["current-page","page-size","total"])])]),_:1})]),_:1})]),_:1})])}}},O=j(G,[["__scopeId","data-v-d29aaaa8"]]);export{O as default};
