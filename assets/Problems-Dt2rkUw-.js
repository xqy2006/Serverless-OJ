import{_ as j,e as i,f as F,k as L,c as T,a as t,w as s,r as a,o as $,b as _,d as b,t as y,u as q}from"./index-bFTND19i.js";import{a as h}from"./axios-DXsv3KKR.js";const E={class:"problems"},M={class:"header"},Q={class:"filters"},A={class:"pagination"},G={__name:"Problems",setup(H){q();const c=i(""),d=i(""),u=i(1),m=i(10),v=i(0),g=i([]),w=async()=>{try{const e=(await h.get("/problems/list.txt")).data.split(`
`).filter(n=>n.trim()),r=await Promise.all(e.map(async n=>(await h.get(`/problems/${n}/problem.json`)).data));g.value=r.sort((n,p)=>p.id-n.id),v.value=r.length}catch(l){console.error("Failed to load problems:",l)}};F(()=>{w()});const C=L(()=>{let l=g.value;if(c.value){const e=c.value.toLowerCase();l=l.filter(r=>r.title.toLowerCase().includes(e)||r.id.toString().includes(e))}return d.value&&(l=l.filter(e=>e.difficulty===d.value)),l}),x=l=>({easy:"success",medium:"warning",hard:"danger"})[l],V=()=>{u.value=1},z=()=>{u.value=1},S=l=>{m.value=l},P=l=>{u.value=l};return(l,e)=>{const r=a("el-input"),n=a("el-option"),p=a("el-select"),f=a("el-table-column"),k=a("router-link"),D=a("el-tag"),N=a("el-table"),U=a("el-pagination"),B=a("el-card"),I=a("el-col"),R=a("el-row");return $(),T("div",E,[t(R,{justify:"center"},{default:s(()=>[t(I,{span:20},{default:s(()=>[t(B,null,{header:s(()=>[_("div",M,[e[4]||(e[4]=_("h2",null,"题目列表",-1)),_("div",Q,[t(r,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),placeholder:"搜索题目或ID","prefix-icon":"Search",onInput:V},null,8,["modelValue"]),t(p,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),placeholder:"难度",onChange:z},{default:s(()=>[t(n,{label:"全部",value:""}),t(n,{label:"简单",value:"easy"}),t(n,{label:"中等",value:"medium"}),t(n,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])])])]),default:s(()=>[t(N,{data:C.value,style:{width:"100%"}},{default:s(()=>[t(f,{prop:"id",label:"编号",width:"80",sortable:"desc"}),t(f,{prop:"title",label:"标题"},{default:s(o=>[t(k,{to:`/submit/${o.row.title}`},{default:s(()=>[b(y(o.row.title),1)]),_:2},1032,["to"])]),_:1}),t(f,{prop:"difficulty",label:"难度",width:"100"},{default:s(o=>[t(D,{type:x(o.row.difficulty)},{default:s(()=>[b(y(o.row.difficulty),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"]),_("div",A,[t(U,{"current-page":u.value,"onUpdate:currentPage":e[2]||(e[2]=o=>u.value=o),"page-size":m.value,"onUpdate:pageSize":e[3]||(e[3]=o=>m.value=o),total:v.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:S,onCurrentChange:P},null,8,["current-page","page-size","total"])])]),_:1})]),_:1})]),_:1})])}}},O=j(G,[["__scopeId","data-v-b29879cd"]]);export{O as default};
